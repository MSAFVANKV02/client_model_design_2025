import{j as e,a as V}from"./vendor-Dyml7b79.js";import{n as W,o as H,p as U,q as _,c as z,z as b,d as T,k as K,e as X,t as Y,F as $,f as y,g as j,l as v,h as k,i as N,B as G,U as J,r as Q,m as Z}from"./index-itBIcg8i.js";import{_ as ee}from"./ClipLoader-D-FKsc_Y.js";import{r as i}from"./react-rGsIzOq1.js";import{u as se,c as I,P as re}from"./index-gd05yIG6.js";import{c as te}from"./createLucideIcon-cTz5pK2-.js";import{A as oe}from"./arrow-left-DSrZCQXP.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function ne(s){const o=i.useRef({value:s,previous:s});return i.useMemo(()=>(o.current.value!==s&&(o.current.previous=o.current.value,o.current.value=s),o.current.previous),[s])}function ce(s){const[o,t]=i.useState(void 0);return W(()=>{if(s){t({width:s.offsetWidth,height:s.offsetHeight});const d=new ResizeObserver(m=>{if(!Array.isArray(m)||!m.length)return;const n=m[0];let a,l;if("borderBoxSize"in n){const r=n.borderBoxSize,p=Array.isArray(r)?r[0]:r;a=p.inlineSize,l=p.blockSize}else a=s.offsetWidth,l=s.offsetHeight;t({width:a,height:l})});return d.observe(s,{box:"border-box"}),()=>d.unobserve(s)}else t(void 0)},[s]),o}var F="Checkbox",[ie,ve]=H(F),[le,de]=ie(F),B=i.forwardRef((s,o)=>{const{__scopeCheckbox:t,name:d,checked:m,defaultChecked:n,required:a,disabled:l,value:r="on",onCheckedChange:p,form:c,...w}=s,[f,C]=i.useState(null),S=U(o,u=>C(u)),E=i.useRef(!1),P=f?c||!!f.closest("form"):!0,[x=!1,R]=se({prop:m,defaultProp:n,onChange:p}),O=i.useRef(x);return i.useEffect(()=>{const u=f==null?void 0:f.form;if(u){const g=()=>R(O.current);return u.addEventListener("reset",g),()=>u.removeEventListener("reset",g)}},[f,R]),e.jsxs(le,{scope:t,state:x,disabled:l,children:[e.jsx(_.button,{type:"button",role:"checkbox","aria-checked":h(x)?"mixed":x,"aria-required":a,"data-state":q(x),"data-disabled":l?"":void 0,disabled:l,value:r,...w,ref:S,onKeyDown:I(s.onKeyDown,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:I(s.onClick,u=>{R(g=>h(g)?!0:!g),P&&(E.current=u.isPropagationStopped(),E.current||u.stopPropagation())})}),P&&e.jsx(ue,{control:f,bubbles:!E.current,name:d,value:r,checked:x,required:a,disabled:l,form:c,style:{transform:"translateX(-100%)"},defaultChecked:h(n)?!1:n})]})});B.displayName=F;var D="CheckboxIndicator",L=i.forwardRef((s,o)=>{const{__scopeCheckbox:t,forceMount:d,...m}=s,n=de(D,t);return e.jsx(re,{present:d||h(n.state)||n.state===!0,children:e.jsx(_.span,{"data-state":q(n.state),"data-disabled":n.disabled?"":void 0,...m,ref:o,style:{pointerEvents:"none",...s.style}})})});L.displayName=D;var ue=s=>{const{control:o,checked:t,bubbles:d=!0,defaultChecked:m,...n}=s,a=i.useRef(null),l=ne(t),r=ce(o);i.useEffect(()=>{const c=a.current,w=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(w,"checked").set;if(l!==t&&C){const S=new Event("click",{bubbles:d});c.indeterminate=h(t),C.call(c,h(t)?!1:t),c.dispatchEvent(S)}},[l,t,d]);const p=i.useRef(h(t)?!1:t);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:m??p.current,...n,tabIndex:-1,ref:a,style:{...s.style,...r,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function h(s){return s==="indeterminate"}function q(s){return h(s)?"indeterminate":s?"checked":"unchecked"}var M=B,me=L;const A=i.forwardRef(({className:s,...o},t)=>e.jsx(M,{ref:t,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...o,children:e.jsx(me,{className:z("flex items-center justify-center text-current"),children:e.jsx(ae,{className:"h-4 w-4"})})}));A.displayName=M.displayName;const pe=b.object({name:b.string().min(1,{message:"Name is required."}),shopName:b.string().min(1,{message:"Name is required."}),pinCode:b.string().min(1,{message:"Name is required."}),policyVerified:b.boolean().refine(s=>s===!0,{message:"You must accept the policy."}),isWhatsappApproved:b.boolean().optional()});function ke(){const s=T(),[o,t]=i.useState(!1),d=K(),n=new URLSearchParams(window.location.search).get("auth"),a=X({resolver:Y(pe),defaultValues:{name:"",shopName:"",pinCode:"",policyVerified:!1,isWhatsappApproved:!1}}),l=async r=>{var p;try{t(!0);const c=await J({...r,mobile:n});c.status===200&&(d(Q()),Z(`${c.data.message}`),s("/kyc"))}catch(c){V.isAxiosError(c)?console.log("Error sending data:",((p=c.response)==null?void 0:p.data)||c.message):console.log("Unexpected error:",c)}finally{t(!1)}};return e.jsxs("div",{className:"h-screen w-screen flex relative",children:[e.jsx("img",{src:"/img/Background Images/Group 1109.svg",alt:"",className:"absolute object-cover top-0 left-0 bottom-0 right-0 w-full h-full"}),e.jsxs("div",{className:"bg-[#F5E9FF] max-w-[370px] w-[370px] space-y-5 h-fit backdrop-blur-2xl rounded-2xl p-5 flex flex-col gap-3 m-auto",children:[e.jsx(oe,{onClick:()=>s("/register"),className:"cursor-pointer text-textMain"}),e.jsxs("div",{className:"flex flex-col w-full   space-y-5",children:[e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Enter Account Information"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Register your business on odio"})]}),e.jsx($,{...a,children:e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-2 text-gray-500",children:[e.jsx(y,{control:a.control,name:"name",render:({field:r})=>e.jsxs(j,{children:[e.jsx(v,{htmlFor:"name",className:"text-base",children:"Your Name"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your name",...r,className:"w-full p-3 mt-1 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(y,{control:a.control,name:"shopName",render:({field:r})=>e.jsxs(j,{children:[e.jsx(v,{htmlFor:"shopName",className:"text-base",children:"Business or Shop Name"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your shop name",...r,className:"w-full p-3 mt-1 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(y,{control:a.control,name:"pinCode",render:({field:r})=>e.jsxs(j,{children:[e.jsx(v,{htmlFor:"pinCode",className:"text-base",children:"PinCode"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your pin code",...r,className:"w-full p-3 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(y,{control:a.control,name:"policyVerified",render:({field:r})=>e.jsxs(j,{className:"",children:[e.jsxs("div",{className:"flex items-center gap-3 ",children:[e.jsx(k,{children:e.jsx(A,{id:"policyVerified",checked:r.value,onCheckedChange:r.onChange,className:"rounded-none"})}),e.jsx(v,{htmlFor:"policyVerified",className:"cursor-pointer text-sm text-gray-700",children:"Verify Our Terms & Conditions"})]}),e.jsx(N,{})]})}),e.jsx(y,{control:a.control,name:"isWhatsappApproved",render:({field:r})=>e.jsxs(j,{className:"flex items-center gap-3",children:[e.jsx(k,{children:e.jsx(A,{id:"isWhatsappApproved",checked:r.value,onCheckedChange:r.onChange,className:"rounded-none"})}),e.jsx(v,{htmlFor:"isWhatsappApproved",className:"cursor-pointer text-sm text-gray-700",children:"Recieve communication via whatsapp"})]})}),e.jsx(G,{type:"submit",variant:"b2bStyle",className:"w-full  ",size:"b2b",children:o?e.jsx(ee,{color:"#ffff",size:20}):"Continue"})]})})})]})]})]})}export{ke as default};
