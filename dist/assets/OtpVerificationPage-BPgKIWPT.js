const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ClipLoader-D-FKsc_Y.js","assets/react-rGsIzOq1.js"])))=>i.map(i=>d[i]);
import{_ as b,z as u,d as j,e as y,t as v,F as O,f as T,g as w,h as P,i as N,m as c,B as F,j as S,k as I}from"./index-DUY3634s.js";import{j as e,a as d}from"./vendor-Dyml7b79.js";import{I as _,a as E,b as k,O as C}from"./otp-timer-D_ORVRME.js";import{b as R,r}from"./react-rGsIzOq1.js";import{A as V}from"./arrow-left-DSrZCQXP.js";import"./createLucideIcon-cTz5pK2-.js";const L=R.lazy(()=>b(()=>import("./ClipLoader-D-FKsc_Y.js").then(a=>a.C),__vite__mapDeps([0,1]))),A=u.object({otp:u.string().length(6,{message:"OTP must be exactly 6 digits."}).regex(/^\d+$/,{message:"OTP must only contain digits."})});function Y(){const a=j(),o=r.useRef(null),[f,n]=r.useState(!1),m=new URLSearchParams(window.location.search).get("auth");r.useEffect(()=>{o.current&&o.current.focus()},[]);const l=y({resolver:v(A),defaultValues:{otp:""}}),p=()=>{S.remove("us_b2b_tkn"),c("Otp Verified Successfully."),a(`/register/user-details?auth=${m}`)},g=async()=>{var t,i;try{n(!0),(await d.post("/user/resendOtp",{mobile:m})).status===200&&c("OTP Resent Successfully")}catch(s){n(!1),d.isAxiosError(s)?((t=s.response)==null?void 0:t.data.success)===!1&&I((i=s.response)==null?void 0:i.data.message):console.log("Unexpected error:",s)}finally{n(!1)}};return r.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),e.jsxs("div",{className:"h-screen w-screen flex relative",children:[e.jsx("img",{src:"/img/Background Images/Group 1109.svg",alt:"",className:"absolute object-cover top-0 left-0 bottom-0 right-0 w-full h-full"}),e.jsxs("div",{className:"bg-[#F5E9FF] max-w-[350px] h-fit backdrop-blur-2xl rounded-2xl p-5 flex flex-col gap-3 m-auto",children:[e.jsx(V,{onClick:()=>{localStorage.removeItem("otp-timer"),localStorage.removeItem("otp-finished"),a("/register")},className:"cursor-pointer"}),e.jsxs("div",{className:"flex flex-col w-full justify-center items-center space-y-5",children:[e.jsx("img",{src:"/img/Background Images/Group 1117.png",alt:"login page b2b",className:"w-28 h-28"}),e.jsx("h4",{className:"font-bold",children:"Verify Mobile Number"}),e.jsx("p",{className:"text-gray-400 text-center",children:"Enter the 6-digit OTP sent to your mobile number."}),e.jsx(O,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(p),className:"space-y-8",children:[e.jsx(T,{control:l.control,name:"otp",render:({field:t})=>e.jsxs(w,{children:[e.jsx(P,{children:e.jsx(_,{maxLength:6,value:t.value,onChange:t.onChange,children:e.jsx(E,{className:"space-x-2 rounded-none",children:[...Array(6)].map((i,s)=>e.jsx(k,{index:s,ref:o,className:"border text-center text-xl rounded-md bg-white border-black",onChange:x=>{const h=x.target.value;t.onChange(h)}},s))})})}),e.jsx(N,{})]})}),e.jsx(C,{resendOtp:g,initialTime:60,onTimerFinish:()=>c("You can resend OTP now.")}),e.jsx(F,{type:"submit",variant:"b2bStyle",className:"w-full",size:"b2b",children:f?e.jsx(L,{color:"#ffff",size:20}):" Verify OTP"})]})})]})]})]})}export{Y as default};
