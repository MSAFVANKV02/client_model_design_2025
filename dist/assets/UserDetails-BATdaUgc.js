import{j as e,a as I}from"./vendor-Dyml7b79.js";import{l as V,n as W,o as H,P as B,c as z,z as b,d as U,e as K,t as G,F as X,f as y,g as j,k as v,h as k,i as N,B as Y,m as $}from"./index-B5fs0UHr.js";import{_ as J}from"./ClipLoader-D-FKsc_Y.js";import{r as c}from"./react-rGsIzOq1.js";import{u as Q,c as _,P as Z}from"./index-zBg7WA5N.js";import{c as ee}from"./createLucideIcon-cTz5pK2-.js";import{a as se}from"./urlPath-CvEbXlwu.js";import{A as re}from"./arrow-left-DSrZCQXP.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function oe(s){const a=c.useRef({value:s,previous:s});return c.useMemo(()=>(a.current.value!==s&&(a.current.previous=a.current.value,a.current.value=s),a.current.previous),[s])}function ae(s){const[a,t]=c.useState(void 0);return V(()=>{if(s){t({width:s.offsetWidth,height:s.offsetHeight});const m=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,r;if("borderBoxSize"in o){const d=o.borderBoxSize,n=Array.isArray(d)?d[0]:d;l=n.inlineSize,r=n.blockSize}else l=s.offsetWidth,r=s.offsetHeight;t({width:l,height:r})});return m.observe(s,{box:"border-box"}),()=>m.unobserve(s)}else t(void 0)},[s]),a}var F="Checkbox",[ne,je]=W(F),[ce,ie]=ne(F),L=c.forwardRef((s,a)=>{const{__scopeCheckbox:t,name:m,checked:i,defaultChecked:o,required:l,disabled:r,value:d="on",onCheckedChange:n,form:h,...S}=s,[p,C]=c.useState(null),w=H(a,u=>C(u)),E=c.useRef(!1),A=p?h||!!p.closest("form"):!0,[x=!1,R]=Q({prop:i,defaultProp:o,onChange:n}),q=c.useRef(x);return c.useEffect(()=>{const u=p==null?void 0:p.form;if(u){const g=()=>R(q.current);return u.addEventListener("reset",g),()=>u.removeEventListener("reset",g)}},[p,R]),e.jsxs(ce,{scope:t,state:x,disabled:r,children:[e.jsx(B.button,{type:"button",role:"checkbox","aria-checked":f(x)?"mixed":x,"aria-required":l,"data-state":O(x),"data-disabled":r?"":void 0,disabled:r,value:d,...S,ref:w,onKeyDown:_(s.onKeyDown,u=>{u.key==="Enter"&&u.preventDefault()}),onClick:_(s.onClick,u=>{R(g=>f(g)?!0:!g),A&&(E.current=u.isPropagationStopped(),E.current||u.stopPropagation())})}),A&&e.jsx(le,{control:p,bubbles:!E.current,name:m,value:d,checked:x,required:l,disabled:r,form:h,style:{transform:"translateX(-100%)"},defaultChecked:f(o)?!1:o})]})});L.displayName=F;var D="CheckboxIndicator",M=c.forwardRef((s,a)=>{const{__scopeCheckbox:t,forceMount:m,...i}=s,o=ie(D,t);return e.jsx(Z,{present:m||f(o.state)||o.state===!0,children:e.jsx(B.span,{"data-state":O(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:a,style:{pointerEvents:"none",...s.style}})})});M.displayName=D;var le=s=>{const{control:a,checked:t,bubbles:m=!0,defaultChecked:i,...o}=s,l=c.useRef(null),r=oe(t),d=ae(a);c.useEffect(()=>{const h=l.current,S=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(S,"checked").set;if(r!==t&&C){const w=new Event("click",{bubbles:m});h.indeterminate=f(t),C.call(h,f(t)?!1:t),h.dispatchEvent(w)}},[r,t,m]);const n=c.useRef(f(t)?!1:t);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??n.current,...o,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function f(s){return s==="indeterminate"}function O(s){return f(s)?"indeterminate":s?"checked":"unchecked"}var T=L,de=M;const P=c.forwardRef(({className:s,...a},t)=>e.jsx(T,{ref:t,className:z("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:e.jsx(de,{className:z("flex items-center justify-center text-current"),children:e.jsx(te,{className:"h-4 w-4"})})}));P.displayName=T.displayName;const ue=b.object({name:b.string().min(1,{message:"Name is required."}),shopName:b.string().min(1,{message:"Name is required."}),pinCode:b.string().min(1,{message:"Name is required."}),policyVerified:b.boolean().refine(s=>s===!0,{message:"You must accept the policy."}),isWhatsappApproved:b.boolean().optional()});function ve(){const s=U(),[a,t]=c.useState(!1),i=new URLSearchParams(window.location.search).get("auth"),o=K({resolver:G(ue),defaultValues:{name:"",shopName:"",pinCode:"",policyVerified:!1,isWhatsappApproved:!1}}),l=async r=>{var d;try{t(!0);const n=await I.post(se,{...r,mobile:i});console.log(n.data,"response.data userDetails"),n.status===200&&(console.log("Data sent successfully",n.data),localStorage.setItem("userProfile",JSON.stringify(n.data.user)),$(`${n.data.message}`),s("/kyc"))}catch(n){I.isAxiosError(n)?console.log("Error sending data:",((d=n.response)==null?void 0:d.data)||n.message):console.log("Unexpected error:",n)}finally{t(!1)}};return e.jsxs("div",{className:"h-screen w-screen flex relative",children:[e.jsx("img",{src:"/img/Background Images/Group 1109.svg",alt:"",className:"absolute object-cover top-0 left-0 bottom-0 right-0 w-full h-full"}),e.jsxs("div",{className:"bg-[#F5E9FF] max-w-[370px] w-[370px] space-y-5 h-fit backdrop-blur-2xl rounded-2xl p-5 flex flex-col gap-3 m-auto",children:[e.jsx(re,{onClick:()=>s("/register"),className:"cursor-pointer text-textMain"}),e.jsxs("div",{className:"flex flex-col w-full   space-y-5",children:[e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Enter Account Information"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Register your business on odio"})]}),e.jsx(X,{...o,children:e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-2 text-gray-500",children:[e.jsx(y,{control:o.control,name:"name",render:({field:r})=>e.jsxs(j,{children:[e.jsx(v,{htmlFor:"name",className:"text-base",children:"Your Name"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your name",...r,className:"w-full p-3 mt-1 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(y,{control:o.control,name:"shopName",render:({field:r})=>e.jsxs(j,{children:[e.jsx(v,{htmlFor:"shopName",className:"text-base",children:"Business or Shop Name"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your shop name",...r,className:"w-full p-3 mt-1 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(y,{control:o.control,name:"pinCode",render:({field:r})=>e.jsxs(j,{children:[e.jsx(v,{htmlFor:"pinCode",className:"text-base",children:"PinCode"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your pin code",...r,className:"w-full p-3 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(y,{control:o.control,name:"policyVerified",render:({field:r})=>e.jsxs(j,{className:"",children:[e.jsxs("div",{className:"flex items-center gap-3 ",children:[e.jsx(k,{children:e.jsx(P,{id:"policyVerified",checked:r.value,onCheckedChange:r.onChange,className:"rounded-none"})}),e.jsx(v,{htmlFor:"policyVerified",className:"cursor-pointer text-sm text-gray-700",children:"Verify Our Terms & Conditions"})]}),e.jsx(N,{})]})}),e.jsx(y,{control:o.control,name:"isWhatsappApproved",render:({field:r})=>e.jsxs(j,{className:"flex items-center gap-3",children:[e.jsx(k,{children:e.jsx(P,{id:"isWhatsappApproved",checked:r.value,onCheckedChange:r.onChange,className:"rounded-none"})}),e.jsx(v,{htmlFor:"isWhatsappApproved",className:"cursor-pointer text-sm text-gray-700",children:"Recieve communication via whatsapp"})]})}),e.jsx(Y,{type:"submit",variant:"b2bStyle",className:"w-full  ",size:"b2b",children:a?e.jsx(J,{color:"#ffff",size:20}):"Continue"})]})})})]})]})]})}export{ve as default};
