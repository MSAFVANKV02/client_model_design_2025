import{j as e,a as z}from"./vendor-Dyml7b79.js";import{x as O,y as T,A as W,C as D,D as I,E as H,G as K,c as _,H as $,z as b,e as X,r as Y,g as G,t as J,F as Q,h as j,i as y,s as C,j as k,n as N,B as Z,U as ee,J as se,p as re,q as te}from"./index-DBYAqO_U.js";import{_ as ae}from"./ClipLoader-D-FKsc_Y.js";import{r as i}from"./react-rGsIzOq1.js";import{P as oe}from"./index-fGgBA97W.js";import{A as ne}from"./arrow-left-BQG4i5pt.js";var S="Checkbox",[ce,je]=O(S),[ie,le]=ce(S),q=i.forwardRef((s,l)=>{const{__scopeCheckbox:t,name:m,checked:h,defaultChecked:o,required:a,disabled:d,value:r="on",onCheckedChange:x,form:n,...w}=s,[u,v]=i.useState(null),E=T(l,c=>v(c)),F=i.useRef(!1),A=u?n||!!u.closest("form"):!0,[f=!1,P]=W({prop:h,defaultProp:o,onChange:x}),U=i.useRef(f);return i.useEffect(()=>{const c=u==null?void 0:u.form;if(c){const g=()=>P(U.current);return c.addEventListener("reset",g),()=>c.removeEventListener("reset",g)}},[u,P]),e.jsxs(ie,{scope:t,state:f,disabled:d,children:[e.jsx(D.button,{type:"button",role:"checkbox","aria-checked":p(f)?"mixed":f,"aria-required":a,"data-state":V(f),"data-disabled":d?"":void 0,disabled:d,value:r,...w,ref:E,onKeyDown:I(s.onKeyDown,c=>{c.key==="Enter"&&c.preventDefault()}),onClick:I(s.onClick,c=>{P(g=>p(g)?!0:!g),A&&(F.current=c.isPropagationStopped(),F.current||c.stopPropagation())})}),A&&e.jsx(de,{control:u,bubbles:!F.current,name:m,value:r,checked:f,required:a,disabled:d,form:n,style:{transform:"translateX(-100%)"},defaultChecked:p(o)?!1:o})]})});q.displayName=S;var B="CheckboxIndicator",L=i.forwardRef((s,l)=>{const{__scopeCheckbox:t,forceMount:m,...h}=s,o=le(B,t);return e.jsx(oe,{present:m||p(o.state)||o.state===!0,children:e.jsx(D.span,{"data-state":V(o.state),"data-disabled":o.disabled?"":void 0,...h,ref:l,style:{pointerEvents:"none",...s.style}})})});L.displayName=B;var de=s=>{const{control:l,checked:t,bubbles:m=!0,defaultChecked:h,...o}=s,a=i.useRef(null),d=H(t),r=K(l);i.useEffect(()=>{const n=a.current,w=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(w,"checked").set;if(d!==t&&v){const E=new Event("click",{bubbles:m});n.indeterminate=p(t),v.call(n,p(t)?!1:t),n.dispatchEvent(E)}},[d,t,m]);const x=i.useRef(p(t)?!1:t);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:h??x.current,...o,tabIndex:-1,ref:a,style:{...s.style,...r,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function p(s){return s==="indeterminate"}function V(s){return p(s)?"indeterminate":s?"checked":"unchecked"}var M=q,me=L;const R=i.forwardRef(({className:s,...l},t)=>e.jsx(M,{ref:t,className:_("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...l,children:e.jsx(me,{className:_("flex items-center justify-center text-current"),children:e.jsx($,{className:"h-4 w-4"})})}));R.displayName=M.displayName;const ue=b.object({name:b.string().min(1,{message:"Name is required."}),shopName:b.string().min(1,{message:"Name is required."}),pinCode:b.string().min(1,{message:"Name is required."}),policyVerified:b.boolean().refine(s=>s===!0,{message:"You must accept the policy."}),isWhatsappApproved:b.boolean().optional()});function ye(){const s=X(),[l,t]=i.useState(!1),m=Y(),o=new URLSearchParams(window.location.search).get("auth"),a=G({resolver:J(ue),defaultValues:{name:"",shopName:"",pinCode:"",policyVerified:!1,isWhatsappApproved:!1}}),d=async r=>{var x;try{t(!0);const n=await ee({...r,mobile:o});n.status===200&&(m(se()),re(`${n.data.message}`),s("/kyc"))}catch(n){z.isAxiosError(n)?te(`${(x=n.response)==null?void 0:x.data.message}`):console.error("Unexpected error:")}finally{t(!1)}};return e.jsxs("div",{className:"h-screen w-screen flex relative",children:[e.jsx("img",{src:"/img/Background Images/userlogin-bg.svg",alt:"",className:"absolute object-cover top-0 left-0 bottom-0 right-0 w-full h-full"}),e.jsxs("div",{className:"bg-[#F5E9FF] max-w-[370px] w-[370px] space-y-5 h-fit backdrop-blur-2xl rounded-2xl p-5 flex flex-col gap-3 m-auto",children:[e.jsx(ne,{onClick:()=>s("/register"),className:"cursor-pointer text-textMain"}),e.jsxs("div",{className:"flex flex-col w-full   space-y-5",children:[e.jsxs("div",{className:"",children:[e.jsx("h4",{className:"font-bold",children:"Enter Account Information"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Register your business on odio"})]}),e.jsx(Q,{...a,children:e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:a.handleSubmit(d),className:"space-y-2 text-gray-500",children:[e.jsx(j,{control:a.control,name:"name",render:({field:r})=>e.jsxs(y,{children:[e.jsx(C,{htmlFor:"name",className:"text-base",children:"Your Name"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your name",...r,className:"w-full p-3 mt-1 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(j,{control:a.control,name:"shopName",render:({field:r})=>e.jsxs(y,{children:[e.jsx(C,{htmlFor:"shopName",className:"text-base",children:"Business or Shop Name"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your shop name",...r,className:"w-full p-3 mt-1 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(j,{control:a.control,name:"pinCode",render:({field:r})=>e.jsxs(y,{children:[e.jsx(C,{htmlFor:"pinCode",className:"text-base",children:"PinCode"}),e.jsx(k,{children:e.jsx("input",{placeholder:"Enter your pin code",...r,className:"w-full p-3 rounded-xl border border-gray-300"})}),e.jsx(N,{})]})}),e.jsx(j,{control:a.control,name:"policyVerified",render:({field:r})=>e.jsxs(y,{className:"",children:[e.jsxs("div",{className:"flex items-center gap-3 ",children:[e.jsx(k,{children:e.jsx(R,{id:"policyVerified",checked:r.value,onCheckedChange:r.onChange,className:"rounded-none"})}),e.jsx(C,{htmlFor:"policyVerified",className:"cursor-pointer text-sm text-gray-700",children:"Verify Our Terms & Conditions"})]}),e.jsx(N,{})]})}),e.jsx(j,{control:a.control,name:"isWhatsappApproved",render:({field:r})=>e.jsxs(y,{className:"flex items-center gap-3",children:[e.jsx(k,{children:e.jsx(R,{id:"isWhatsappApproved",checked:r.value,onCheckedChange:r.onChange,className:"rounded-none"})}),e.jsx(C,{htmlFor:"isWhatsappApproved",className:"cursor-pointer text-sm text-gray-700",children:"Recieve communication via whatsapp"})]})}),e.jsx(Z,{type:"submit",variant:"b2bStyle",className:"w-full  ",size:"b2b",children:l?e.jsx(ae,{color:"#ffff",size:20}):"Continue"})]})})})]})]})]})}export{ye as default};
