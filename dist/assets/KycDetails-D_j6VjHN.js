import{j as e}from"./vendor-Dyml7b79.js";import{r as K,s as P,d as F,v as R,B as w,I as b,w as D,x as U,y as q,A as z,k as A,m as Y,C as B,j as M,D as W,e as $,F as O,f as m,g as u,h as x,i as p,z as a,t as G,E as V}from"./index-BksrDRpu.js";import{_}from"./ClipLoader-D-FKsc_Y.js";import{r as f}from"./react-rGsIzOq1.js";function Z(){const i=f.useRef(null),[n,r]=f.useState(0),t=[{id:1,src:"/img/banners/kyc_curosal1.webp"},{id:2,src:"/img/banners/kyc_curosal2.webp"},{id:3,src:"/img/banners/kyc_curosal2.webp"}],h=()=>{var d,N;const l=((d=i.current)==null?void 0:d.scrollLeft)||0,o=((N=i.current)==null?void 0:N.offsetWidth)||1,s=Math.round(l/o);r(s)},c=l=>{const o=i.current;if(o){const d=o.offsetWidth*l;o.scrollTo({left:d,behavior:"smooth"}),r(l)}};f.useEffect(()=>{const l=i.current;return l&&l.addEventListener("scroll",h),()=>{l&&l.removeEventListener("scroll",h)}},[]);const j=()=>{n>0&&c(n-1)},g=()=>{n<t.length-1&&c(n+1)};return e.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[e.jsx("div",{className:"flex overflow-x-auto flex-nowrap snap-x snap-mandatory scrollbar-none",ref:i,children:t.map(l=>e.jsx("div",{className:"min-w-[100%] h-full relative snap-center",children:e.jsx("img",{src:l.src,alt:"",className:"w-full h-full object-cover rounded-xl"})},l.id))}),e.jsx("button",{className:`absolute left-4 top-1/2 transform -translate-y-1/2 bg-white  text-black p-2 rounded-md md:h-10 h-6 md:w-10 w-6 flex justify-center items-center ${n===0?"cursor-not-allowed opacity-50":""}`,onClick:j,disabled:n===0,children:"<"}),e.jsx("button",{className:`absolute right-4 top-1/2 transform -translate-y-1/2 bg-white  text-black p-2 rounded-md md:h-10 h-6 md:w-10 w-6 flex justify-center items-center ${n===t.length-1?"cursor-not-allowed opacity-50":""}`,onClick:g,disabled:n===t.length-1,children:">"}),e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-1",children:t.map((l,o)=>e.jsx("div",{className:` rounded-full cursor-pointer transition-all duration-300 ${n===o?"bg-white w-5 h-2":"bg-gray-300 w-2 h-2"}`,onClick:()=>c(o)},o))})]})}const S=()=>K(),C=P;U.workerSrc=`//unpkg.com/pdfjs-dist@${q}/build/pdf.worker.min.mjs`;const T=11*1024*1024;function H(){const i=S(),n=F(),r=f.useRef(null),{proofType:t,uploadedFile:h}=C(v=>v.kyc),[c,j]=f.useState(!1),[g,l]=f.useState(null),[o,s]=f.useState(null),{handleLogout:d}=R(),N=()=>{r.current&&r.current.click()},E=v=>{var k;const y=(k=v.target.files)==null?void 0:k[0];if(y){if(y.size>T){l(`File size must be less than ${(T/(1024*1024)).toFixed(2)} MB`);return}if(y.type!=="application/pdf"){l("Only PDF files are allowed");return}l(null);const I=URL.createObjectURL(y);s(I),i(z(y))}},L=async()=>{if(!h){A("Please upload a PDF file");return}j(!0),Y("KYC submitted successfully"),i(B()),d("/"),n("/"),M.set("us_b2b_tkn","b2bdevtokenwithdummy00data",{expires:1,secure:!0,sameSite:"strict"})};return e.jsxs("div",{className:"md:p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Complete Shop's KYC"}),e.jsxs("div",{className:"flex sm:flex-row flex-col justify-between gap-3 items-center md:p-10 p-4 bg-gray-100 rounded-xl mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:items-start items-center gap-5",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:t}),e.jsxs("p",{children:[t," verifies in 10 mins."]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("small",{children:"Browse, Gallery or Files."}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:".pdf",ref:r,className:"hidden",onChange:E}),e.jsxs(w,{variant:"outline",className:"p-[10px] w-[205px] h-[48px] bg-white flex items-center gap-2 text-center text-black rounded-lg border",onClick:N,type:"button",children:[e.jsx(b,{icon:"material-symbols-light:upload",fontSize:20})," ","Upload"]})]})]})]}),e.jsx(w,{variant:"b2bStyle",className:"px-11",onClick:L,children:c?e.jsx(_,{color:"#ffff",size:20}):" Submit"})]}),g&&e.jsx("p",{className:"text-red-600 mb-4",children:g}),e.jsxs("div",{className:"mt-6 flex sm:flex-row flex-col gap-4 justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Certificate must clearly show:"}),e.jsxs("ul",{className:"list-inside list-disc mt-2",children:[e.jsxs("li",{className:"text-sm flex items-center gap-1",children:[e.jsx(b,{icon:"bitcoin-icons:verify-filled",className:"text-green-600",fontSize:25}),"Registration Number"]}),e.jsxs("li",{className:"text-sm flex items-center gap-1",children:[e.jsx(b,{icon:"bitcoin-icons:verify-filled",className:"text-green-600",fontSize:25}),"Legal Name"]}),e.jsxs("li",{className:"text-sm flex items-center gap-1",children:[e.jsx(b,{icon:"bitcoin-icons:verify-filled",className:"text-green-600",fontSize:25}),"Trade Name"]})]})]}),o&&h?e.jsxs("div",{children:[e.jsx("p",{children:"See Sample:"}),e.jsx("div",{className:"mt-4 relative float-right",children:e.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(D,{fileURL:o}),e.jsx("div",{className:"absolute w-16 h-24 bg-black/10 top-0 rounded-md flex items-center justify-center ",children:e.jsx(b,{icon:"system-uicons:capture",fontSize:25,color:"#fff"})})]})})]}):e.jsx("div",{className:"w-16 h-24 bg-black/20 flex items-center justify-center",children:e.jsx(b,{icon:"system-uicons:capture"})})]})]})}const J=[{id:1,proofType:"Udyam Aadhaar",proofTitle:"Udyam Aadhaar",proofSubText:"KYC in 10 mins."},{id:2,proofType:"GST Certificate",proofTitle:"GST Certificate",proofSubText:"KYC in 10 mins."},{id:3,proofType:"Current Account Cheque",proofTitle:"Current Account Cheque",proofSubText:"KYC in 48 hours."},{id:4,proofType:"Shop & Establishment License",proofTitle:"Shop & Establishment License",proofSubText:"KYC in 48 hours."},{id:5,proofType:"Trade Certificate/License",proofTitle:"Trade Certificate / License",proofSubText:"KYC in 48 hours."},{id:6,proofType:"Other Shop Documents",proofTitle:"Other Shop Documents",proofSubText:"KYC in 48 hours."}];function Q(){const{proofType:i}=C(t=>t.kyc),n=S(),r=t=>{n(W(t))};return e.jsx("div",{className:"",children:i?e.jsx(e.Fragment,{children:e.jsx(H,{})}):e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upload Any 1 document"}),e.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:J.map(t=>e.jsx("li",{className:"border p-16 bg-gray-100  cursor-pointer rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300",onClick:()=>r(t.proofType),children:e.jsxs("div",{className:"font-semibold  flex items-center justify-center gap-3",children:[e.jsxs("p",{children:[" ",t.proofTitle]}),e.jsx("p",{className:"text-sm text-textMain",children:t.proofSubText})]})},t.id))})]})})}const X=a.object({businessName:a.string().min(1,{message:"Business name is required."}),emailId:a.string().email({message:"Invalid email address."}),buildingName:a.string().min(1,{message:"Building name is required."}),street:a.string().min(1,{message:"Street name is required."}),post:a.string().min(1,{message:"Post is required."}),pinCode:a.string().min(1,{message:"Pincode is required."}),state:a.string().min(1,{message:"State is required."}),country:a.string().min(1,{message:"Country is required."})});function le(){const i=S(),n=C(s=>s.kyc),r=$({resolver:G(X),defaultValues:{businessName:"",emailId:"",buildingName:"",street:"",post:"",pinCode:"",state:"",country:""}}),{handleSubmit:t}=r,h=F(),[c,j]=f.useState(!1),l=new URLSearchParams(window.location.search).get("proofs"),o=async s=>{j(!0);try{i(V(s)),h(`/kyc/details?proofs=${n.buildingName}`)}catch(d){console.error("Error submitting form:",d)}finally{j(!1)}};return e.jsxs("div",{className:"section_container_dash  py-10 space-y-4 min-h-screen",children:[l?e.jsx(e.Fragment,{children:e.jsx(Q,{})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"sm:text-xl text-lg",children:[e.jsx("span",{children:"Complete"})," ",e.jsx("span",{className:"text-textMain",children:"Shopâ€™s KYC"})]}),e.jsx("div",{className:"",children:e.jsx(O,{...r,children:e.jsxs("form",{onSubmit:t(o),className:"w-full space-y-3",children:[e.jsx(m,{control:r.control,name:"businessName",render:({field:s})=>e.jsxs(u,{children:[e.jsx(x,{children:e.jsx("input",{type:"text",...s,placeholder:"Enter your business name",className:"w-full p-2 border border-gray-300 rounded-lg"})}),e.jsx(p,{})]})}),e.jsx(m,{control:r.control,name:"emailId",render:({field:s})=>e.jsxs(u,{children:[e.jsx(x,{children:e.jsx("input",{type:"email",...s,placeholder:"Enter your email ID",className:"w-full p-2 border border-gray-300 rounded-lg"})}),e.jsx(p,{})]})}),e.jsx(m,{control:r.control,name:"buildingName",render:({field:s})=>e.jsxs(u,{children:[e.jsx(x,{children:e.jsx("input",{type:"text",...s,placeholder:"Enter your building name",className:"w-full p-2 border border-gray-300 rounded-lg"})}),e.jsx(p,{})]})}),e.jsx(m,{control:r.control,name:"street",render:({field:s})=>e.jsxs(u,{children:[e.jsx(x,{children:e.jsx("input",{type:"text",...s,placeholder:"Enter your street",className:"w-full p-2 border border-gray-300 rounded-lg"})}),e.jsx(p,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(m,{control:r.control,name:"post",render:({field:s})=>e.jsxs(u,{children:[e.jsx(x,{children:e.jsx("input",{type:"text",...s,placeholder:"Enter your post",className:"w-full p-2 border border-gray-300 rounded-lg"})}),e.jsx(p,{})]})}),e.jsx(m,{control:r.control,name:"pinCode",render:({field:s})=>e.jsxs(u,{children:[e.jsx(x,{children:e.jsx("input",{type:"text",...s,placeholder:"Enter your pin code",className:"w-full p-2 border border-gray-300 rounded-lg"})}),e.jsx(p,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(m,{control:r.control,name:"state",render:({field:s})=>e.jsxs(u,{children:[e.jsx(x,{children:e.jsx("input",{type:"text",...s,placeholder:"Enter your state",className:"w-full p-2 border border-gray-300 rounded-lg"})}),e.jsx(p,{})]})}),e.jsx(m,{control:r.control,name:"country",render:({field:s})=>e.jsxs(u,{children:[e.jsx(x,{children:e.jsx("input",{type:"text",...s,placeholder:"Enter your country",className:"w-full p-2 border border-gray-300 rounded-lg"})}),e.jsx(p,{})]})})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(w,{type:"submit",disabled:c,variant:"b2bStyle",className:"w-full sm:px-16 sm:w-auto",size:"b2b",children:c?e.jsx(_,{color:"#ffff",size:20}):"Submit"})})]})})})]}),e.jsx(Z,{})]})}export{le as default};
