import{j as S}from"./vendor-Dyml7b79.js";import{r as e}from"./react-rGsIzOq1.js";import{c as Q}from"./index-B6NST0oS.js";import{c as ke}from"./createLucideIcon-cTz5pK2-.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=ke("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);var je=Object.defineProperty,Re=Object.defineProperties,Oe=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,de=(t,o,n)=>o in t?je(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,Te=(t,o)=>{for(var n in o||(o={}))me.call(o,n)&&de(t,n,o[n]);if(X)for(var n of X(o))fe.call(o,n)&&de(t,n,o[n]);return t},De=(t,o)=>Re(t,Oe(o)),Ne=(t,o)=>{var n={};for(var i in t)me.call(t,i)&&o.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&X)for(var i of X(t))o.indexOf(i)<0&&fe.call(t,i)&&(n[i]=t[i]);return n},We="^\\d+$";function Ae(t){let o=setTimeout(t,0),n=setTimeout(t,10),i=setTimeout(t,50);return[o,n,i]}function Be(t){let o=e.useRef();return e.useEffect(()=>{o.current=t}),o.current}var Fe=18,ge=40,_e=`${ge}px`,He=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Le({containerRef:t,inputRef:o,pushPasswordManagerStrategy:n,isFocused:i}){let g=e.useRef({done:!1,refocused:!1}),[s,P]=e.useState(!1),[p,M]=e.useState(!1),[x,q]=e.useState(!1),Y=e.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&s&&p,[s,p,n]),j=e.useCallback(()=>{let v=t.current,m=o.current;if(!v||!m||x||n==="none")return;let l=v,E=l.getBoundingClientRect().left+l.offsetWidth,A=l.getBoundingClientRect().top+l.offsetHeight/2,U=E-Fe,J=A;if(!(document.querySelectorAll(He).length===0&&document.elementFromPoint(U,J)===v)&&(P(!0),q(!0),!g.current.refocused&&document.activeElement===m)){let H=[m.selectionStart,m.selectionEnd];m.blur(),m.focus(),m.setSelectionRange(H[0],H[1]),g.current.refocused=!0}},[t,o,x,n]);return e.useEffect(()=>{let v=t.current;if(!v||n==="none")return;function m(){let E=window.innerWidth-v.getBoundingClientRect().right;M(E>=ge)}m();let l=setInterval(m,1e3);return()=>{clearInterval(l)}},[t,n]),e.useEffect(()=>{let v=i||document.activeElement===o.current;if(n==="none"||!v)return;let m=setTimeout(j,0),l=setTimeout(j,2e3),E=setTimeout(j,5e3),A=setTimeout(()=>{q(!0)},6e3);return()=>{clearTimeout(m),clearTimeout(l),clearTimeout(E),clearTimeout(A)}},[o,i,n,j]),{hasPWMBadge:s,willPushPWMBadge:Y,PWM_BADGE_SPACE_WIDTH:_e}}var ve=e.createContext({}),he=e.forwardRef((t,o)=>{var n=t,{value:i,onChange:g,maxLength:s,textAlign:P="left",pattern:p=We,inputMode:M="numeric",onComplete:x,pushPasswordManagerStrategy:q="increase-width",containerClassName:Y,noScriptCSSFallback:j=$e,render:v,children:m}=n,l=Ne(n,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","pushPasswordManagerStrategy","containerClassName","noScriptCSSFallback","render","children"]),E,A,U,J,H;let[be,Se]=e.useState(typeof l.defaultValue=="string"?l.defaultValue:""),d=i??be,R=Be(d),L=e.useCallback(r=>{g==null||g(r),Se(r)},[g]),w=e.useMemo(()=>p?typeof p=="string"?new RegExp(p):p:null,[p]),c=e.useRef(null),Z=e.useRef(null),ee=e.useRef({value:d,onChange:L,isIOS:typeof window<"u"&&((A=(E=window==null?void 0:window.CSS)==null?void 0:E.supports)==null?void 0:A.call(E,"-webkit-touch-callout","none"))}),K=e.useRef({prev:[(U=c.current)==null?void 0:U.selectionStart,(J=c.current)==null?void 0:J.selectionEnd,(H=c.current)==null?void 0:H.selectionDirection]});e.useImperativeHandle(o,()=>c.current,[]),e.useEffect(()=>{let r=c.current,a=Z.current;if(!r||!a)return;ee.current.value!==r.value&&ee.current.onChange(r.value),K.current.prev=[r.selectionStart,r.selectionEnd,r.selectionDirection];function f(){if(document.activeElement!==r){G(null),V(null);return}let u=r.selectionStart,b=r.selectionEnd,C=r.selectionDirection,T=r.maxLength,D=r.value,_=K.current.prev,I=-1,k=-1,N;if(D.length!==0&&u!==null&&b!==null){let Pe=u===b,Ce=u===D.length&&D.length<T;if(Pe&&!Ce){let W=u;if(W===0)I=0,k=1,N="forward";else if(W===T)I=W-1,k=W,N="backward";else if(T>1&&D.length>1){let re=0;if(_[0]!==null&&_[1]!==null){N=W<_[1]?"backward":"forward";let Ie=_[0]===_[1]&&_[0]<T;N==="backward"&&!Ie&&(re=-1)}I=re+W,k=re+W+1}}I!==-1&&k!==-1&&I!==k&&c.current.setSelectionRange(I,k,N)}let ce=I!==-1?I:u,pe=k!==-1?k:b,ye=N??C;G(ce),V(pe),K.current.prev=[ce,pe,ye]}if(document.addEventListener("selectionchange",f,{capture:!0}),f(),document.activeElement===r&&te(!0),!document.getElementById("input-otp-style")){let u=document.createElement("style");if(u.id="input-otp-style",document.head.appendChild(u),u.sheet){let b="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";z(u.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),z(u.sheet,`[data-input-otp]:autofill { ${b} }`),z(u.sheet,`[data-input-otp]:-webkit-autofill { ${b} }`),z(u.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),z(u.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let h=()=>{a&&a.style.setProperty("--root-height",`${r.clientHeight}px`)};h();let y=new ResizeObserver(h);return y.observe(r),()=>{document.removeEventListener("selectionchange",f,{capture:!0}),y.disconnect()}},[]);let[oe,ae]=e.useState(!1),[$,te]=e.useState(!1),[O,G]=e.useState(null),[B,V]=e.useState(null);e.useEffect(()=>{Ae(()=>{var r,a,f,h;(r=c.current)==null||r.dispatchEvent(new Event("input"));let y=(a=c.current)==null?void 0:a.selectionStart,u=(f=c.current)==null?void 0:f.selectionEnd,b=(h=c.current)==null?void 0:h.selectionDirection;y!==null&&u!==null&&(G(y),V(u),K.current.prev=[y,u,b])})},[d,$]),e.useEffect(()=>{R!==void 0&&d!==R&&R.length<s&&d.length===s&&(x==null||x(d))},[s,x,R,d]);let F=Le({containerRef:Z,inputRef:c,pushPasswordManagerStrategy:q,isFocused:$}),le=e.useCallback(r=>{let a=r.currentTarget.value.slice(0,s);if(a.length>0&&w&&!w.test(a)){r.preventDefault();return}typeof R=="string"&&a.length<R.length&&document.dispatchEvent(new Event("selectionchange")),L(a)},[s,L,R,w]),ie=e.useCallback(()=>{var r;if(c.current){let a=Math.min(c.current.value.length,s-1),f=c.current.value.length;(r=c.current)==null||r.setSelectionRange(a,f),G(a),V(f)}te(!0)},[s]),se=e.useCallback(r=>{var a,f;let h=c.current;if(!ee.current.isIOS||!r.clipboardData||!h)return;let y=r.clipboardData.getData("text/plain");r.preventDefault();let u=(a=c.current)==null?void 0:a.selectionStart,b=(f=c.current)==null?void 0:f.selectionEnd,C=(u!==b?d.slice(0,u)+y+d.slice(b):d.slice(0,u)+y+d.slice(u)).slice(0,s);if(C.length>0&&w&&!w.test(C))return;h.value=C,L(C);let T=Math.min(C.length,s-1),D=C.length;h.setSelectionRange(T,D),G(T),V(D)},[s,L,w,d]),we=e.useMemo(()=>({position:"relative",cursor:l.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[l.disabled]),ue=e.useMemo(()=>({position:"absolute",inset:0,width:F.willPushPWMBadge?`calc(100% + ${F.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:F.willPushPWMBadge?`inset(0 ${F.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:P,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[F.PWM_BADGE_SPACE_WIDTH,F.willPushPWMBadge,P]),xe=e.useMemo(()=>e.createElement("input",De(Te({autoComplete:l.autoComplete||"one-time-code"},l),{"data-input-otp":!0,"data-input-otp-mss":O,"data-input-otp-mse":B,inputMode:M,pattern:w==null?void 0:w.source,style:ue,maxLength:s,value:d,ref:c,onPaste:r=>{var a;se(r),(a=l.onPaste)==null||a.call(l,r)},onChange:le,onMouseOver:r=>{var a;ae(!0),(a=l.onMouseOver)==null||a.call(l,r)},onMouseLeave:r=>{var a;ae(!1),(a=l.onMouseLeave)==null||a.call(l,r)},onFocus:r=>{var a;ie(),(a=l.onFocus)==null||a.call(l,r)},onBlur:r=>{var a;te(!1),(a=l.onBlur)==null||a.call(l,r)}})),[le,ie,se,M,ue,s,B,O,l,w==null?void 0:w.source,d]),ne=e.useMemo(()=>({slots:Array.from({length:s}).map((r,a)=>{let f=$&&O!==null&&B!==null&&(O===B&&a===O||a>=O&&a<B),h=d[a]!==void 0?d[a]:null;return{char:h,isActive:f,hasFakeCaret:f&&h===null}}),isFocused:$,isHovering:!l.disabled&&oe}),[$,oe,s,B,O,l.disabled,d]),Ee=e.useMemo(()=>v?v(ne):e.createElement(ve.Provider,{value:ne},m),[m,ne,v]);return e.createElement(e.Fragment,null,j!==null&&e.createElement("noscript",null,e.createElement("style",null,j)),e.createElement("div",{ref:Z,"data-input-otp-container":!0,style:we,className:Y},Ee,e.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},xe)))});he.displayName="Input";function z(t,o){try{t.insertRule(o)}catch{console.error("input-otp could not insert CSS rule:",o)}}var $e=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Ge=e.forwardRef(({className:t,containerClassName:o,...n},i)=>S.jsx(he,{ref:i,containerClassName:Q("flex items-center gap-2 has-[:disabled]:opacity-50",o),className:Q("disabled:cursor-not-allowed",t),...n}));Ge.displayName="InputOTP";const Ve=e.forwardRef(({className:t,...o},n)=>S.jsx("div",{ref:n,className:Q("flex items-center",t),...o}));Ve.displayName="InputOTPGroup";const ze=e.forwardRef(({index:t,className:o,...n},i)=>{const g=e.useContext(ve),{char:s,hasFakeCaret:P,isActive:p}=g.slots[t];return S.jsxs("div",{ref:i,className:Q("relative flex h-11 w-11 items-center justify-center border-y border-r border-input text-sm transition-all  first:border-l ",p&&"z-10 ring-2 ring-ring ring-offset-background",o),...n,children:[s,P&&S.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:S.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});ze.displayName="InputOTPSlot";const qe=e.forwardRef(({...t},o)=>S.jsx("div",{ref:o,role:"separator",...t,children:S.jsx(Me,{})}));qe.displayName="InputOTPSeparator";const Xe=({initialTime:t=60,resendOtp:o})=>{const[n,i]=e.useState(()=>{const p=localStorage.getItem("otp-timer");return p?Number(p):t}),[g,s]=e.useState(()=>localStorage.getItem("otp-finished")==="true");e.useEffect(()=>{if(n>0&&!g){const p=setInterval(()=>{i(M=>{if(M>0){const x=M-1;return localStorage.setItem("otp-timer",x.toString()),x}else return clearInterval(p),s(!0),localStorage.removeItem("otp-timer"),localStorage.setItem("otp-finished","true"),0})},1e3);return()=>clearInterval(p)}},[n,g]),e.useEffect(()=>{n===0&&(s(!0),localStorage.setItem("otp-finished","true"))},[n]);const P=()=>{i(t),s(!1),localStorage.setItem("otp-timer",t.toString()),localStorage.setItem("otp-finished","false"),o()};return S.jsx(S.Fragment,{children:g?S.jsx("p",{className:"text-center text-sm hover:underline cursor-pointer text-blue-400",onClick:P,children:"Resend OTP"}):S.jsxs("p",{className:"text-center text-sm text-gray-500",children:["Resend in ",n," seconds"]})})};export{Ge as I,Xe as O,Ve as a,ze as b};
